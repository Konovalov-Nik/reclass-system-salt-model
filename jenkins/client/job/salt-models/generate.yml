parameters:
  jenkins:
    client:
      job_template:
        generate_reclass_clusters:
          name: generate_reclass_cluster_{{cookiecutter_template}}
          param:
            cookiecutter_template:
            - separated_products
          template:
            type: workflow-scm
            concurrent: true
            display_name: "[MCP] Generate reclass cluster {{cookiecutter_template}}"
            scm:
              type: git
              url: ${_param:jenkins_job_repository}
              credentials: "gitlab"
              script: metadata/cookiecutter_generate.groovy
            param:
              COOKIECUTTER_TEMPLATE_URL:
                type: string
                default: "git@github.com:Mirantis/mk2x-cookiecutter-reclass-model.git"
              COOKIECUTTER_TEMPLATE_CREDENTIALS:
                type: string
                default: jenkins
              COOKIECUTTER_TEMPLATE_BRANCH:
                type: string
                default: master
#              COOKIECUTTER_TEMPLATE_PATH:
#                type: string
#                default: 'cluster/{{cookiecutter_template}}'
              COOKIECUTTER_INSTALL_CICD:
                type: boolean
                default: false
              COOKIECUTTER_INSTALL_CONTRAIL:
                type: boolean
                default: false
              COOKIECUTTER_INSTALL_KUBERNETES:
                type: boolean
                default: false
              COOKIECUTTER_INSTALL_OPENSTACK:
                type: boolean
                default: false
              COOKIECUTTER_INSTALL_STACKLIGHT:
                type: boolean
                default: false
              COOKIECUTTER_TEMPLATE_CONTEXT:
                type: string
              RECLASS_MODEL_URL:
                type: string
                default: "
                ssh://jenkins@gerrit.mcp.mirantis.net:29418/salt-models/training"
              RECLASS_MODEL_CREDENTIALS:
                type: string
                default: jenkins_slave
              RECLASS_MODEL_BRANCH:
                type: string
                default: master
